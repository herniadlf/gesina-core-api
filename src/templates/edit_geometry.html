{% extends "layout.html" %}
{% block content %}
    <div>
        <div class="d-flex justify-content-between pb-4">
            <h2>Editar Geometría #{{ geometry.id }}: <i>{{geometry.name}}</i></h2>
        </div>
        <div class="container-xxl">
            <form method="post"
                  enctype="multipart/form-data"
                  class="p-4 container"
                  id="geometry-form"
                  action="{{ url_for('geometry_controller.edit_geometry', geometry_id=geometry.id) }}">
                <div class="form-group">
                    <label for="descriptionInput"><h5>Descripción</h5></label>
                    <textarea class="form-control" id="descriptionInput" name="description" rows="3">{{geometry.description}}</textarea>
                </div>
                <div class="text-right">
                    <button type="button" class="btn btn-primary" onclick="submitForm()">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        function submitForm() {
            var descriptionInput = document.getElementById('descriptionInput').value;
            var form = document.getElementById('geometry-form');

            // Agregar un campo oculto al formulario para enviar el ID de geometría
            var geometryIdInput = document.createElement('input');
            geometryIdInput.type = 'hidden';
            geometryIdInput.name = 'geometry_id';
            geometryIdInput.value = '{{ geometry.id }}';
            form.appendChild(geometryIdInput);

            // Agregar un campo oculto al formulario para enviar la descripción
            var descriptionHiddenInput = document.createElement('input');
            descriptionHiddenInput.type = 'hidden';
            descriptionHiddenInput.name = 'description';
            descriptionHiddenInput.value = descriptionInput;
            form.appendChild(descriptionHiddenInput);

            form.submit();
        }
    </script>

{% endblock %}
